
(function(){var Linc,isArray,isFunction,isObject,_ref,__hasProp=Object.prototype.hasOwnProperty;Linc=typeof exports!="undefined"&&exports!==null&&this||(this.Linc={}),Linc._functions={},Linc.add=function(){var functions,initFn,name,ns,nsNames,options,register,_i,_len,_results;name=arguments[0],options={},initFn=arguments[arguments.length-1],functions=this._functions,isObject(arguments[1])&&(options=arguments[1]),register=function(ns){var funcs,_ref;return funcs=ns?(_ref=functions[ns])!=null?_ref:functions[ns]={}:functions,funcs[name]={options:options,init:initFn}};if(~name.indexOf(".")){nsNames=name.split("."),name=nsNames.shift(),_results=[];for(_i=0,_len=nsNames.length;_i<_len;_i++)ns=nsNames[_i],_results.push(register(ns));return _results}return register()},Linc.run=function(o){var all,key,namespaces,ns,runFuncs,scope,_i,_len,_ref,_ref2;o==null&&(o={}),scope=(_ref=o.scope)!=null?_ref:document,ns=(_ref2=o.namespace)!=null?_ref2:[],all=o.all,all?ns=function(){var _ref3,_results;_ref3=this._functions,_results=[];for(key in _ref3){if(!__hasProp.call(_ref3,key))continue;isObject(key)&&_results.push(key)}return _results}.call(this):ns=isArray(ns)?ns:[ns];for(_i=0,_len=ns.length;_i<_len;_i++)namespaces=ns[_i],runFuncs(namespaces);return runFuncs(),runFuncs=function(namespace){var funcs,name,widget,_ref3,_results;funcs=(_ref3=this._functions[namespace])!=null?_ref3:this._functions,_results=[];for(name in funcs){if(!__hasProp.call(funcs,name))continue;widget=funcs[name],!widget.options.once||!widget.called?(widget.init.call(scope),_results.push(widget.called=!0)):_results.push(void 0)}return _results}},isArray=(_ref=Array.isArray)!=null?_ref:function(o){return Object.prototype.toString.call(o)==="[object Array]"},isFunction=function(o){return Object.prototype.toString.call(o)==="[object Function]"},isObject=function(o){return o===Object(o)}}).call(this)